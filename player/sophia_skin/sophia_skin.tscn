[gd_scene load_steps=38 format=3 uid="uid://prh35jb6tjtd"]

[ext_resource type="PackedScene" uid="uid://16iu10wxub40" path="res://player/sophia_skin/model/sophia.glb" id="1_e4pev"]
[ext_resource type="Script" uid="uid://3dt3fhdgvw5h" path="res://player/sophia_skin/sophia_skin.gd" id="1_obcib"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_34dtn"]
height = 1.6757813

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vapre"]
animation = &"EdgeGrab"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_84eem"]
animation = &"Fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bdqby"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_is0ey"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_olyh3"]
animation = &"RunTiltL"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_81hhq"]
animation = &"RunTiltR"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nf0s3"]
animation = &"Run"

[sub_resource type="AnimationNodeAdd3" id="AnimationNodeAdd3_i8et5"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_mx8fd"]
graph_offset = Vector2(-362, 27)
nodes/L/node = SubResource("AnimationNodeAnimation_olyh3")
nodes/L/position = Vector2(-100, 320)
nodes/R/node = SubResource("AnimationNodeAnimation_81hhq")
nodes/R/position = Vector2(-240, 240)
nodes/Run/node = SubResource("AnimationNodeAnimation_nf0s3")
nodes/Run/position = Vector2(-120, 120)
nodes/tilt/node = SubResource("AnimationNodeAdd3_i8et5")
nodes/tilt/position = Vector2(80, 160)
node_connections = [&"output", 0, &"tilt", &"tilt", 0, &"L", &"tilt", 1, &"Run", &"tilt", 2, &"R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ln86s"]
animation = &"WallSlide"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aehxm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bp3m8"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kwnko"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ykos7"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0wv7u"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5rcd0"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_umbj3"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_525xv"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5lsn0"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k4ifp"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_i5k5f"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_graxy"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8tjks"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_h6oe5"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8l37g"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p1j7t"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mybu0"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6rf72"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cm2qm"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_goywk"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mn3tt"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cwktt"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_xxcga"]
states/EdgeGrab/node = SubResource("AnimationNodeAnimation_vapre")
states/EdgeGrab/position = Vector2(327, 290)
states/End/position = Vector2(627, 166)
states/Fall/node = SubResource("AnimationNodeAnimation_84eem")
states/Fall/position = Vector2(474, 205)
states/Idle/node = SubResource("AnimationNodeAnimation_bdqby")
states/Idle/position = Vector2(327, 122)
states/Jump/node = SubResource("AnimationNodeAnimation_is0ey")
states/Jump/position = Vector2(327, 205)
states/Move/node = SubResource("AnimationNodeBlendTree_mx8fd")
states/Move/position = Vector2(474, 122)
states/Start/position = Vector2(327, 44)
states/WallSlide/node = SubResource("AnimationNodeAnimation_ln86s")
states/WallSlide/position = Vector2(474, 290)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_aehxm"), "Idle", "Jump", SubResource("AnimationNodeStateMachineTransition_bp3m8"), "Jump", "Idle", SubResource("AnimationNodeStateMachineTransition_kwnko"), "Jump", "Fall", SubResource("AnimationNodeStateMachineTransition_ykos7"), "Fall", "Jump", SubResource("AnimationNodeStateMachineTransition_0wv7u"), "Fall", "Idle", SubResource("AnimationNodeStateMachineTransition_5rcd0"), "Idle", "Fall", SubResource("AnimationNodeStateMachineTransition_umbj3"), "Idle", "Move", SubResource("AnimationNodeStateMachineTransition_525xv"), "Move", "Idle", SubResource("AnimationNodeStateMachineTransition_5lsn0"), "Fall", "Move", SubResource("AnimationNodeStateMachineTransition_k4ifp"), "Move", "Fall", SubResource("AnimationNodeStateMachineTransition_i5k5f"), "Move", "Jump", SubResource("AnimationNodeStateMachineTransition_graxy"), "Jump", "Move", SubResource("AnimationNodeStateMachineTransition_8tjks"), "Jump", "EdgeGrab", SubResource("AnimationNodeStateMachineTransition_h6oe5"), "WallSlide", "Fall", SubResource("AnimationNodeStateMachineTransition_8l37g"), "Jump", "WallSlide", SubResource("AnimationNodeStateMachineTransition_p1j7t"), "EdgeGrab", "Fall", SubResource("AnimationNodeStateMachineTransition_mybu0"), "EdgeGrab", "WallSlide", SubResource("AnimationNodeStateMachineTransition_6rf72"), "Fall", "EdgeGrab", SubResource("AnimationNodeStateMachineTransition_cm2qm"), "WallSlide", "Jump", SubResource("AnimationNodeStateMachineTransition_goywk"), "EdgeGrab", "Jump", SubResource("AnimationNodeStateMachineTransition_mn3tt"), "Fall", "WallSlide", SubResource("AnimationNodeStateMachineTransition_cwktt")]
graph_offset = Vector2(-264, 106)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_qa7x4"]
graph_offset = Vector2(-36.181824, -12.909088)
nodes/output/position = Vector2(200, 0)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_xxcga")
nodes/StateMachine/position = Vector2(0, 0)
node_connections = [&"output", 0, &"StateMachine"]

[node name="SophiaSkin" type="Node3D" groups=["player"]]
script = ExtResource("1_obcib")

[node name="PickUP" type="Area3D" parent="."]
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="PickUP"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8258661, 0.005612083)
visible = false
shape = SubResource("CapsuleShape3D_34dtn")

[node name="sophia" parent="." instance=ExtResource("1_e4pev")]

[node name="Skeleton3D" parent="sophia/rig" index="0"]
bones/0/position = Vector3(-4.4240626e-18, 0.47129157, -0.114497736)
bones/0/rotation = Quaternion(-0.13754202, 0, 0, 0.9904959)
bones/1/rotation = Quaternion(0.094828196, -7.90699e-25, -1.2237861e-23, 0.9954937)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(0.14471272, 3.8421604e-24, 6.8868725e-24, 0.98947376)
bones/3/rotation = Quaternion(0.06156932, 8.7345905e-17, -1.4159718e-15, 0.99810284)
bones/4/rotation = Quaternion(0.011172191, 1.1920197e-07, 1.3318414e-09, 0.9999376)
bones/5/rotation = Quaternion(-0.11464777, -5.8928517e-08, -2.0533314e-08, 0.9934063)
bones/6/rotation = Quaternion(-0.018805182, -5.9879184e-08, -1.1262358e-09, 0.9998232)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(0.99339896, 0.11470034, 0.0014971248, -0.00017286067)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(0.99339896, -0.11470034, -0.0014971248, -0.00017286067)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.8425948, -0.020224705, 0.012913883, 0.5380131)
bones/10/rotation = Quaternion(0.4098126, -0.0052529755, 0.011691026, 0.9120797)
bones/11/rotation = Quaternion(0.82072514, 0.11601405, -0.19209154, 0.52540636)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.4092573, -0.02470103, 0.031988584, 0.9115236)
bones/13/rotation = Quaternion(0.81617635, -0.14458628, 0.21031094, 0.51838243)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.4096542, 0.016884483, -0.014583229, 0.9119681)
bones/15/rotation = Quaternion(-0.35234144, -0.079274684, -0.3697139, 0.85608566)
bones/15/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(1.0159849e-07, 1.0195937e-07, 0.02399613, 0.99971205)
bones/17/rotation = Quaternion(-0.34706336, 0.099879816, 0.41947114, 0.8328356)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(3.166497e-08, -1.11758716e-07, -1.1920929e-07, 1)
bones/19/rotation = Quaternion(-0.41096875, -0.019495774, -0.0074837264, 0.9114102)
bones/20/rotation = Quaternion(-2.1595042e-07, -1.9965226e-08, -1.4551937e-09, 1)
bones/21/rotation = Quaternion(-0.41038263, 0.02935177, 0.029351769, 0.9109682)
bones/22/rotation = Quaternion(-2.0743774e-07, 1.0871998e-08, -0.023995984, 0.9997121)
bones/23/rotation = Quaternion(-0.5797576, -0.38261646, -0.39648923, 0.6002351)
bones/24/rotation = Quaternion(0.3017407, 0.52011114, -0.58544576, 0.54377407)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(-5.3575462e-08, 0.06739422, -9.269468e-09)
bones/25/rotation = Quaternion(2.2785073e-07, -0.13451764, -3.6097575e-08, 0.9909112)
bones/26/position = Vector3(1.1121598e-07, 0.067394175, 2.299195e-08)
bones/26/rotation = Quaternion(0.52318764, -0.13451748, 0.08405088, 0.8373262)
bones/27/position = Vector3(-4.3859494e-08, 0.06212332, 8.2473186e-08)
bones/27/rotation = Quaternion(-7.878418e-08, 0.21071595, 3.7719e-08, 0.97754735)
bones/28/position = Vector3(1.3544621e-07, 0.062123362, 7.859057e-09)
bones/28/rotation = Quaternion(-0.03760068, 0.21084566, 0.22512248, 0.9505001)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(0.152207, 0.687514, 0.0919657, 0.70406)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(-0.058951806, 0.046008836, -0.16824704, 0.9829044)
bones/31/rotation = Quaternion(0.42265248, -0.0003002328, -0.001001972, 0.9062912)
bones/32/rotation = Quaternion(0.4247787, 0.00065142283, 0.001632411, 0.9052956)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.08984146, 0.7603314, 0.52491534, 0.37187177)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(0.60814667, 0.0032486157, 0.010394236, 0.79375005)
bones/35/rotation = Quaternion(0.4900467, -0.012868918, -0.025310364, 0.87123364)
bones/35/scale = Vector3(1, 1, 1)
bones/37/rotation = Quaternion(-0.056254763, -0.009224245, -0.10859145, 0.9924506)
bones/38/rotation = Quaternion(0.42502713, 0.00022625091, 0.00073752005, 0.90518034)
bones/39/rotation = Quaternion(0.42479074, -0.00048459644, -0.0012024181, 0.9052907)
bones/39/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(0.00451177, 0.702559, -0.0298239, 0.710986)
bones/40/scale = Vector3(1, 1, 1)
bones/41/rotation = Quaternion(-0.048480798, 0.029057827, -0.0020159774, 0.9983993)
bones/41/scale = Vector3(1, 1, 1)
bones/42/rotation = Quaternion(0.49698287, -7.6371885e-05, -0.00018684471, 0.86776036)
bones/43/rotation = Quaternion(0.49801838, 0.00015280685, 0.00030412932, 0.8671664)
bones/44/rotation = Quaternion(-0.0664032, 0.722, -0.0943871, 0.682201)
bones/44/scale = Vector3(1, 1, 1)
bones/45/rotation = Quaternion(-0.042112637, -0.0067540607, 0.062583104, 0.99712807)
bones/45/scale = Vector3(1, 1, 1)
bones/46/rotation = Quaternion(0.5104944, 1.1216371e-05, 4.8745973e-05, 0.85988116)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.51430106, -3.908471e-05, -7.175033e-05, 0.8576098)
bones/48/rotation = Quaternion(-0.579758, 0.382616, 0.396489, 0.600235)
bones/49/rotation = Quaternion(0.3017407, -0.52011114, 0.58544576, 0.54377407)
bones/49/scale = Vector3(1, 1, 1)
bones/50/position = Vector3(5.3575462e-08, 0.06739422, -9.269468e-09)
bones/50/rotation = Quaternion(9.6269616e-08, 0.13451755, 8.872998e-08, 0.99091125)
bones/51/position = Vector3(-1.9946356e-08, 0.06739424, 4.889445e-08)
bones/51/rotation = Quaternion(0.5231879, 0.13451758, -0.084050894, 0.83732605)
bones/52/position = Vector3(4.5954973e-08, 0.062123347, -6.933785e-09)
bones/52/rotation = Quaternion(-3.6864787e-08, -0.21071592, -1.2233914e-08, 0.97754735)
bones/53/position = Vector3(-1.2185353e-07, 0.06212333, -1.4307204e-08)
bones/53/rotation = Quaternion(-0.037600767, -0.21084566, -0.22512236, 0.9505001)
bones/53/scale = Vector3(1, 1, 1)
bones/55/position = Vector3(1.1040647e-08, 0.13377401, 4.1118597e-08)
bones/55/rotation = Quaternion(-0.058951665, -0.046009514, 0.16824706, 0.98290426)
bones/56/rotation = Quaternion(0.42265218, 0.0003022469, 0.0010012537, 0.90629137)
bones/57/rotation = Quaternion(0.42477846, -0.0006529335, -0.0016317222, 0.9052957)
bones/57/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(0.08984124, 0.76033145, 0.52491534, -0.37187195)
bones/59/rotation = Quaternion(0.6081466, -0.003248614, -0.010394066, 0.79375)
bones/59/scale = Vector3(1, 1, 1)
bones/60/rotation = Quaternion(0.49004668, 0.01286887, 0.025310464, 0.8712337)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(0.0846267, -0.720317, -0.0385398, 0.687383)
bones/62/position = Vector3(3.5612857e-08, 0.13164349, 2.5226647e-08)
bones/62/rotation = Quaternion(-0.05625424, 0.009224421, 0.10859155, 0.9924507)
bones/62/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(0.4250267, -0.00022599904, -0.00073770515, 0.90518045)
bones/64/rotation = Quaternion(0.42479068, 0.0004845293, 0.0012025671, 0.9052907)
bones/64/scale = Vector3(1, 1, 1)
bones/65/rotation = Quaternion(0.00451176, -0.702559, 0.0298239, 0.710986)
bones/65/scale = Vector3(1, 1, 1)
bones/66/position = Vector3(-2.5523814e-08, 0.13159546, 5.575894e-08)
bones/66/rotation = Quaternion(-0.048480697, -0.029057696, 0.0020159425, 0.9983993)
bones/66/scale = Vector3(1, 1, 1)
bones/67/rotation = Quaternion(0.49698204, 7.609621e-05, 0.00018715148, 0.86776084)
bones/68/rotation = Quaternion(0.49801898, -0.00015183391, -0.00030466777, 0.86716616)
bones/69/rotation = Quaternion(-0.0664032, -0.722, 0.094387, 0.682201)
bones/69/scale = Vector3(1, 1, 1)
bones/70/position = Vector3(-2.7925754e-08, 0.1263113, 9.912989e-08)
bones/70/rotation = Quaternion(-0.042112608, 0.0067541837, -0.062583104, 0.99712807)
bones/71/rotation = Quaternion(0.5104944, -1.1102156e-05, -4.882496e-05, 0.85988116)
bones/71/scale = Vector3(1, 1, 1)
bones/72/rotation = Quaternion(0.5143011, 3.9052713e-05, 7.197019e-05, 0.85760975)
bones/72/scale = Vector3(1, 1, 1)
bones/73/scale = Vector3(1, 1, 1)
bones/74/rotation = Quaternion(0.782333, 0.24861604, -0.17112602, 0.54484963)
bones/74/scale = Vector3(1, 1, 1)
bones/75/rotation = Quaternion(0.782333, -0.24861614, 0.17112596, 0.5448497)
bones/76/rotation = Quaternion(0.9859656, 9.990129e-10, 1.0347401e-09, -0.16694887)
bones/76/scale = Vector3(1, 1, 0.999998)
bones/77/rotation = Quaternion(-0.030678935, -2.1636084e-11, -4.5015734e-11, 0.9995293)
bones/78/rotation = Quaternion(-0.03010157, -2.2265686e-11, -4.2846875e-11, 0.99954695)
bones/79/rotation = Quaternion(-0.152455, -0.79333, -0.285504, 0.515628)
bones/80/rotation = Quaternion(-0.152455, 0.79333, 0.285504, 0.515628)
bones/81/rotation = Quaternion(0.986685, 0.048700072, -0.046124812, 0.14816748)
bones/81/scale = Vector3(1, 1, 0.999999)
bones/82/position = Vector3(8.237684e-10, 0.094758876, 2.6670033e-08)
bones/82/rotation = Quaternion(3.3803044e-08, 0.004194352, -4.537348e-08, 0.9999913)
bones/83/position = Vector3(1.7890445e-08, 0.09475894, 8.294505e-10)
bones/83/rotation = Quaternion(0.20385014, 0.0041947006, -0.00087335554, 0.97899276)
bones/84/position = Vector3(-9.151652e-09, 0.09307783, -6.5000125e-09)
bones/84/rotation = Quaternion(6.3464746e-08, -0.13158949, 9.62147e-09, 0.99130434)
bones/85/position = Vector3(7.522431e-09, 0.093077786, -2.6096245e-08)
bones/85/rotation = Quaternion(-0.6530866, -0.09848839, 0.103486344, 0.7436858)
bones/85/scale = Vector3(1, 1, 1)
bones/86/position = Vector3(-3.1053943e-08, 0.22410607, 3.000858e-08)
bones/86/rotation = Quaternion(3.642185e-05, 0.8944121, -0.44724393, -1.7432609e-05)
bones/86/scale = Vector3(1, 1, 1)
bones/87/rotation = Quaternion(0.88975805, -0.058305994, 0.045939807, 0.45035604)
bones/87/scale = Vector3(1, 1, 0.999999)
bones/88/position = Vector3(2.203561e-09, 0.09239132, -4.3842352e-08)
bones/88/rotation = Quaternion(1.21151e-09, -0.011904077, -1.5357433e-08, 0.9999292)
bones/89/position = Vector3(1.525195e-08, 0.0923913, -1.9965215e-08)
bones/89/rotation = Quaternion(0.6554194, -0.011904368, 0.010332823, 0.75510055)
bones/90/position = Vector3(-7.187724e-09, 0.09058415, 1.0328819e-08)
bones/90/rotation = Quaternion(-7.284173e-08, 0.080312796, 1.9207931e-08, 0.9967698)
bones/91/position = Vector3(3.8162398e-09, 0.09058417, 8.506504e-09)
bones/91/rotation = Quaternion(-0.791069, 0.04994709, -0.13149406, 0.5953356)
bones/91/scale = Vector3(1, 1, 1)
bones/92/position = Vector3(1.2428487e-08, 0.224129, 5.5141808e-08)
bones/92/rotation = Quaternion(-3.9638107e-06, 0.8943467, -0.4473747, 1.2268455e-06)
bones/92/scale = Vector3(1, 1, 1)

[node name="Sophia" parent="sophia/rig/Skeleton3D" index="0"]
lod_bias = 0.001

[node name="AnimationTree" type="AnimationTree" parent="."]
unique_name_in_owner = true
root_node = NodePath("%AnimationTree/../sophia")
tree_root = SubResource("AnimationNodeBlendTree_qa7x4")
anim_player = NodePath("../sophia/AnimationPlayer")
parameters/StateMachine/Move/tilt/add_amount = 0.0

[node name="BlinkTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.2
one_shot = true
autostart = true

[node name="ClosedEyesTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.2
one_shot = true
autostart = true

[editable path="sophia"]
